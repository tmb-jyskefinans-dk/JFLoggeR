<div class="grid grid-cols-1 xl:grid-cols-[minmax(0,1fr)_320px] gap-6 items-start">
  <!-- Left column: Selected day entries -->
  <div class="rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm p-6 text-slate-700 dark:text-slate-200">
    <div class="flex items-center justify-between mb-2">
  <h2 class="text-lg font-semibold tracking-tight dark:text-slate-100">Dag: <span class="font-medium text-indigo-600 dark:text-indigo-300">{{ formattedDay() }}</span></h2>
  <a [routerLink]="['/summary', day()]" class="inline-flex items-center justify-center rounded-md text-sm font-semibold px-4 h-10 gap-2 bg-white text-slate-700 border border-slate-300 hover:bg-slate-100 active:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600 dark:hover:bg-slate-600" aria-label="Vis opsummering for {{formattedDay()}}">Se opsummering</a>
    </div>
    <div class="overflow-auto mt-4 max-h-[55vh]">
      <table class="min-w-full text-sm" aria-label="Entries for {{day()}}">
        <thead class="text-slate-600 dark:text-slate-300">
          <tr>
            <th scope="col" class="text-left py-2">Start</th>
            <th scope="col" class="text-left">Slut</th>
            <th scope="col" class="text-left">Beskrivelse</th>
            <th scope="col" class="text-left">Kategori</th>
            <th scope="col" class="text-left" aria-label="Handlinger"></th>
          </tr>
        </thead>
        <tbody class="divide-y">
          @for(e of entries(); track e.start) {
            <tr class="transition-colors hover:bg-indigo-50 dark:hover:bg-slate-700/60 hover:text-slate-900 dark:hover:text-slate-50">
              <td class="py-2 font-medium">{{e.start}}</td>
              <td>{{e.end}}</td>
              <td>{{e.description}}</td>
              <td>
                <span [style.background]="getColor(e.category)" class="inline-block w-3 h-3 rounded-sm align-middle mr-2"></span>
                <span [style.color]="getColor(e.category)" class="font-semibold">{{e.category}}</span>
              </td>
              <td>
                <button type="button"
                        (click)="remove(e)"
                        class="text-slate-400 hover:text-red-600 dark:text-slate-500 dark:hover:text-red-400 rounded focus:outline-none focus:ring-2 focus:ring-red-500/40"
                        aria-label="Slet interval {{e.start}}">
                  <span aria-hidden="true">Ã—</span>
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
      @if(!entries().length) {
  <p class="text-slate-500 dark:text-slate-400 text-sm mt-2" role="status" aria-live="polite">Ingen registreringer endnu.</p>
      }
    </div>
  </div>

  <!-- Right column: Archive days list -->
  <div class="rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-sm p-6 text-slate-700 dark:text-slate-200 xl:sticky xl:top-4">
    <h3 class="font-semibold mb-3 dark:text-slate-100 text-sm flex items-center gap-2">
      <svg class="w-4 h-4 text-slate-500 dark:text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2v4"/><path d="M16 2v4"/><rect x="3" y="8" width="18" height="13" rx="2"/><path d="M3 10h18"/></svg>
  Andre dage
    </h3>
  <div class="overflow-auto max-h-[55vh] pr-1" aria-label="Andre registrerede dage">
      <ul class="text-sm space-y-1">
        @for(d of daysWithWeekday(); track d.day) {
          <li class="py-1 flex items-center justify-between gap-2">
            <div class="flex items-center gap-2">
      <button type="button"
          class="relative inline-flex items-center justify-center w-4 h-4 rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400"
          (click)="toggleExportedDot(d.day)"
          [attr.aria-label]="d.exported ? (d.day + ' afstemt') : ('Afstem ' + d.day)"
          title="Afstem status">
        <!-- Small dot for visual (keeps larger focus target for accessibility) -->
        <span class="block w-2 h-2 rounded-full"
          [style.background]="d.exported ? 'var(--tw-color-emerald-600,#059669)' : 'var(--tw-color-slate-300,#cbd5e1)'"
          aria-hidden="true"></span>
        <span class="sr-only">{{ d.exported ? 'Afstemt' : 'Ikke afstemt' }}</span>
      </button>
              <a class="underline hover:text-indigo-600 dark:text-indigo-300 dark:hover:text-indigo-200" [routerLink]="['/day', d.day]" [attr.aria-label]="'Vis dag ' + d.day">
                <span class="text-indigo-600 dark:text-indigo-300 font-semibold">{{d.weekday}}</span> {{d.day}}
              </a>
            </div>
            <span class="text-xs text-slate-500 dark:text-slate-400" [attr.aria-label]="d.slots + ' intervaller'">{{d.slots}} intervaller</span>
          </li>
        }
      </ul>
      @if(!days().length) {
  <p class="text-slate-500 dark:text-slate-400 text-xs mt-2" role="status" aria-live="polite">Ingen andre dage registreret endnu.</p>
      }
    </div>
  </div>
</div>
